# Music Box: Algorithmic Music - Using rules and random numbers to compose songs

This project generates music without human intervention given simple limitations and random numbers, allowing unique songs to be created in seconds. Algorithms were written in the programming language C to create rock and pop style songs. These songs are played back using visual programming language Max, so that compositions can be heard using samples of acoustic instruments. This project will demonstrate these methods can be used to produce a virtually endless amount of unique songs.

## Introduction

My goal was to algorithmically generate a full song without the need for any human intervention. Basic parameters are given by the user and then a song is generated based on those parameters. There should not be any need for musical background in order to use the program. I wanted to design a product that is easy to use for someone with no musical background or beginners who are just starting to compose. This means it could potentially be educational as well as provide useful tools for somebody who is already an experienced composer. Rhythm and catchiness will be the main focus of the songs generated. This is in contrast to many of the other available programs for algorithmically generated music. Many of these programs have a focus on classical or jazz music, which I do not think reflects the tastes of the average user. That is why I wanted my algorithmically generated music to be based around the musical structures and patterns found in rock and pop. The biggest focus is the rhythm section which includes the drums and bass. This is what differentiates the application, since rock and pop have a stronger emphasis on repetition. This focus and style also affects the instrumentation used. One thing I noticed when looking at programs for algorithmic music generation is that the song needs to be exported to a different program to be heard at all or it simply sounds bad when played directly from the program. I think this is because the people that developed these programs do not see sound quality as the main focus since they intend it to be an aid for composition. This creates a lack of accessibility to the general user who may not have access to other programs and also limits the user base to composers. I believe the song should sound good right out of the box as well. This is why I used samples of real instruments that are played back with MIDI so that users can get immediate results.
The final product includes basic parameters that the user can tweak and input. This allows it to be educational because various examples of different types of musical ideas can be quickly produced. Basic parameters include the tempo and the random number generation seed. That means adjusting one of these parameters will generate an immediate example. It also allows an experienced composer to have many different options to work with. I focused on creating a simple user interface. The program gets parameters from the user which then go into a “blackbox”. What comes out of the blackbox are notes defined by integers for their value and floats for their length in milliseconds. The user is able to input a seed to ensure that they can reach the same result again. Otherwise even with the same tempo the blackbox will likely generate different results each time. The song is converted to MIDI format through Max and then is put through visualizer which allows the user to see what notes are being played. The notes then trigger samples of real instruments which are played back. This way the program can be a useful tool for anyone who is trying to generate music, whether it be an experienced composer, a beginner, or even game developers and filmmakers who would like to have original songs to use in their projects.
 My motivation for this project comes from my own desire to see a useful tool for algorithmic music. I have always had an interest in procedural generation, particularly when it came to music, but it has always been disappointing to find that the majority of pre-existing programs for algorithmic music are either not user-friendly or require some kind of subscription to use. While the concepts I am drawing from are not necessarily novel or particularly innovative, what separates my project from others will be the focus on accessibility and user interface. Additionally, creating my algorithms for music generation developed a product that is unique and hopefully can provide others with interesting musical ideas.
 
## Implementation and Results

In order to create this application I worked with the visual programming language Max. Max is designed for music and multimedia. Max is modular meaning it is made up of independent objects which are then connected in order to create a program. Max allows for third-party development of external objects which can be written in C. This allowed me to write my own object that generated notes. The reason I wanted to use Max is because it has a lot of digital signal processing functions and is well-suited for working with audio and music.
A big challenge for me was learning to use Max and learning to write externals.  While externals for Max are written in C, which I did have experience with, Max itself was brand new to me. The fact that I already had experience in C was helpful in learning to write externals though. This was the first hurdle to understanding how much I could accomplish with this project.
The bulk of the programming was writing an external for Max in C that allowed me to create a kind of “blackbox” which I called the music box, which takes in user parameters and outputs a song. In order to program an external I used Microsoft Visual Studio. Programming directly in Max entailed creating a user interface, visualization, and outputting sound.
![Image1](/images/image_1.png)
